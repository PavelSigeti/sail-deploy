import{r as v,h as $,_ as A,a as d,o as n,c as b,b as e,e as i,d as h,f as l,w as f,m as x,N as w,K as F,F as S}from"./app.34ec7400.js";import{F as C,a as E,E as B,A as N,c as L,b as y}from"./AppLoader.b40da3a1.js";function M(t){t?document.body.style.overflow="":document.body.style.overflow="hidden"}const O={name:"AppSupport",emits:["close"],components:{Field:C,Form:E,ErrorMessage:B,AppLoader:N},setup(){const t=v(!1),o=v(!1),p=L({title:y().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043C\u0443").min(5,"\u041E\u0442 5 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432").max(128,"\u0414\u043E 128 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432"),text:y().required("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043A\u0441\u0442").min(20,"\u041E\u0442 20 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432").max(1024,"\u0414\u043E 1024 \u0441\u0438\u0432\u043E\u043B\u043E\u0432")});return{submit:async m=>{t.value=!0;try{const a=await $.post("/api/feedback",m);console.log("response",a.data)}catch(a){console.log(a.message)}t.value=!1,o.value=!0},loading:t,validationSchema:p,done:o}}},V={class:"modal"},q={class:"support-container"},H={key:0,class:"support-done"},K=e("h2",null,"\u041E\u0431\u0440\u0430\u0442\u043D\u0430\u044F \u0441\u0432\u044F\u0437\u044C",-1),P={class:"form-control"},j=e("label",{for:"title"},"\u0422\u0435\u043C\u0430",-1),z={class:"form-control"},D=e("label",{for:"text"},"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435",-1),G=e("button",{class:"btn btn-default btn-full-width"},"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C",-1);function I(t,o,p,s,m,a){const u=d("AppLoader"),c=d("Field"),g=d("ErrorMessage"),k=d("Form");return n(),b("div",V,[e("div",{class:"modal-background",onClick:o[0]||(o[0]=r=>{t.$emit("close")})}),e("div",q,[s.done?(n(),b("div",H," \u0412\u0430\u0448\u0435 \u043E\u0431\u0440\u0430\u0449\u0435\u043D\u0438\u0435 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E! ")):i("",!0),s.loading?(n(),h(u,{key:1})):i("",!0),e("div",{class:"close",onClick:o[1]||(o[1]=r=>{t.$emit("close")})}),K,l(k,{onSubmit:s.submit,"validation-schema":s.validationSchema},{default:f(()=>[e("div",P,[l(c,{name:"title"},{default:f(({field:r,errors:_})=>[j,e("input",x(r,{id:"title",type:"text",class:["form-input",{invalid:!!_.length}],placeholder:"\u0422\u0435\u043C\u0430"}),null,16)]),_:1}),l(g,{class:"alert",name:"title"})]),e("div",z,[l(c,{name:"text"},{default:f(({field:r,errors:_})=>[D,e("textarea",x(r,{id:"text",class:["form-textarea",{invalid:!!_.length}],placeholder:"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435"}),null,16)]),_:1}),l(g,{class:"alert",name:"text"})]),G]),_:1},8,["onSubmit","validation-schema"])])])}const J=A(O,[["render",I]]),Q={name:"AppHeader.vue",components:{AppSupport:J},setup(){return{support:v(!1),bodyOverflow:M}}},R={class:"dashboard-header"},T={class:"header-content"};function U(t,o,p,s,m,a){const u=d("AppSupport");return n(),b(S,null,[e("header",R,[e("h1",null,[w(t.$slots,"default")]),e("div",T,[e("div",{class:"btn btn-border support-btn",onClick:o[0]||(o[0]=c=>{s.support=!0,s.bodyOverflow(!1)})},"\u041E\u0431\u0440\u0430\u0442\u043D\u0430\u044F \u0441\u0432\u044F\u0437\u044C"),i("",!0)])]),(n(),h(F,null,[s.support?(n(),h(u,{key:0,onClose:o[1]||(o[1]=c=>{s.support=!1,s.bodyOverflow(!0)})})):i("",!0)],1024))],64)}const Y=A(Q,[["render",U]]);export{Y as A};
